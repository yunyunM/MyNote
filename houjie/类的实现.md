# 类的实现

## 不带指针的

1. 防卫式定义
2. 结构头
3. private
4. 函数 选择是成员函数还说非成员函数
5. 构造函数：函数名与类名相同，无返回类型 初值列

### 返回值和传递值类型的确定

#### 是否为引用

传递：不管时构造函数还是其他函数，都需要考虑参数的传递时pass by referce（4个字节） 还是 pass by value （int double都是4位）

返回：返回参数的本来存在的local变量 所以返回类型可以是引用，否则不能用引用

#### 是否为const

返回：函数的参数传递以及返回类型该如何定义：函数后面是否要加const（如果不改变里面的参数则可以加conse  double real() const {}）

传递：传递的值不会被改变就用const，状态改变也是改变

6.  友元

### 操作符 重载 operator

成员函数的定义方式

inline complex& complex：：operator += 

返回类型要考虑连用情况

### 内联函数 inline

结构体内的默认为inline

结构体外面的要加inline

加inline之后是否真的就变为内联函数是由编译器决定的，人无法得知

加inline之后，调用函数直接是函数内部的语句，不需要封装成函数，节约了函数编译时间

### 	全局函数还是类内函数

如果用到类之外的参数则定义为全局函数

### 创建新的

类型（值）

## 带指针类的实现

以构造字符串为例。

#### 构造函数

带指针的类必须有自己写的构造函数，如果使用系统自带默认的构造函数，只是将新构造的指针指向了另一个指针指向的地方，是浅拷贝。而深拷贝需要新分配内存空间

### 三大函数

#### 拷贝构造

首先分配内存

#### 拷贝赋值

首先判断赋值的指针是否是自身的指针，如果是就什么丢不用做

#### 析构函数

### 堆、栈与内存管理

#### 堆 栈

#### 内存管理



## 扩展补充

### static

静态的变量只有一份,不属于这个类，单独的存在内存中，非静态的有几个这个类就有几份

静态函数也是只有一份，没有this，静态函数只能处理静态变量

静态的函数要在类内声明，类外面进行定义做初始化  

可以使用静态变量和静态构造函数实现只能构造一个该类的情况

![image-20230501211416267]()

![image-20230501211520584](https://cdn.jsdelivr.net/gh/yunyunM/blogImage@main/image-20230501211520584.png)



## 虚函数与多态

![image-20230430210848386](https://cdn.jsdelivr.net/gh/yunyunM/blogImage@main/image-20230430210848386.png)